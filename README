# **Documentação do Projeto**

**Autor**: Pedro Antonio dos Santos
**RA**: 23.9473-2  

## **Descrição**

Este projeto automatiza o provisionamento de um ambiente de monitoramento com o **Grafana**, configurado para exibir métricas coletadas por um servidor **Prometheus**. A configuração também integra o **Jenkins** para o gerenciamento do pipeline de execução de todo o processo.

---

## **Pré-requisitos**

1. **Jenkins** deve estar instalado e funcionando corretamente.
2. **Docker** e **Docker Compose** configurados no ambiente do Jenkins.
3. Acesso ao navegador para visualizar o **Grafana** através de `http://localhost:3000`.

---

## **Passos para Configurar e Rodar o Projeto**

### **1. Iniciar o Jenkins**

Verifique se o Jenkins está em execução. O endereço padrão para acessá-lo é `http://localhost:8080`.

---

### **2. Criar um Pipeline no Jenkins**

#### **Acessar o Jenkins**

1. Acesse o Jenkins em `http://localhost:8080` e faça login.


#### **Criar um Novo Projeto**

2. Clique em **"Novo Item"**.
3. Nomeie o projeto como `Monitoramento-Pipeline`.
4. Selecione a opção **"Pipeline"** e clique em **"OK"**.

#### **Configurar o Pipeline**

5. Na página de configuração do pipeline:
   - Role até a seção **"Build Triggers"** e marque **"GitHub hook trigger for GITScm polling"**.
   - Em **Pipeline**, escolha a opção **Pipeline Script from SCM**.


#### **Configurar Repositório SCM**

6. Selecione **Git** em **SCM**.
7. Insira o repositório Git: `https://github.com/SeuUsuario/monitoramento-pipeline.git`.
8. Configure as credenciais, caso necessário.
9. Clique em **Salvar**.

---

### **3. Executar o Pipeline**

1. Retorne à página principal do Jenkins e clique no pipeline recém-criado.
2. Clique em **"Construir Agora"** para iniciar o pipeline.


3. Acompanhe a execução:
   - Verifique os logs para confirmar que os containers Docker (Prometheus e Grafana) estão sendo inicializados corretamente.
   - Certifique-se de que o serviço Grafana está em funcionamento ao final da execução.

---

### **4. Rodar o Projeto Manualmente (Sem o Jenkins)**

Caso prefira não usar o Jenkins, você pode executar o projeto diretamente utilizando **Docker Compose**. Para isso, siga os passos abaixo:

1. Acesse o diretório do projeto no terminal.
2. Execute o seguinte comando:

   ```bash
   docker-compose up --build -d

Após a execução, acesse as aplicações nos seguintes endereços:

Aplicação Flask: http://localhost:5000
Grafana: http://localhost:3000
5. Acessar o Grafana
Abra seu navegador e vá até http://localhost:3000.

Faça login no Grafana:

Usuário: admin
Senha: admin (ou a senha configurada no ambiente).
Você verá o dashboard criado automaticamente, com as métricas de requisições.

Exemplo do Dashboard:alt text

Nota: O carregamento dos gráficos pode levar até 30 segundos após acessar o Grafana. Também é recomendado configurar o time range do dashboard para últimos 5 minutos.